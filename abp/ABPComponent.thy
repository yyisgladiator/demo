(*
 * DO NOT MODIFY!
 * This file was generated from ABP.maa and will be overridden when changed. To change
 * permanently, consider changing the model itself.
 *
 * Generated on Sep 29, 2018 5:54:16 PM by isartransformer 1.0.0
 *)
theory ABPComponent
  imports SenderAutomaton MediumAutomaton ReceiverAutomaton spec.SPS

begin


(* Dummy *)
definition uspecComp :: "('m,'m) ufun uspec ‚áí ('m,'m) ufun uspec ‚áí ('m,'m) ufun uspec" (infixl "‚®Ç" 50) where
"uspecComp S1 S2 ‚â° undefined"

(* Dummy *)
definition uspecSerComp :: "('in,'m) ufun uspec ‚áí ('m,'out) ufun uspec ‚áí ('in,'out) ufun uspec" (infixl "‚óã" 50) where
"uspecSerComp S1 S2 ‚â° undefined"


section ‚ÄπDatatype definition‚Ä∫

datatype ('e::countable) abpMessage = DoNotUse_5b2352bc0cd24bc7b6c3f6f480670fcb_ABPE "'e" | DoNotUse_5b2352bc0cd24bc7b6c3f6f480670fcb_ABPBool "bool" | DoNotUse_5b2352bc0cd24bc7b6c3f6f480670fcb_ABPPair_E_Bool "('e√óbool)"

instance abpMessage :: (countable) countable
  apply(intro_classes)
  by(countable_datatype)

instantiation abpMessage :: (countable) message
begin
  fun ctype_abpMessage :: "channel ‚áí ('e::countable) abpMessage set" where
  "ctype_abpMessage c = (
    if c = ùíû ''DoNotUse_5b2352bc0cd24bc7b6c3f6f480670fcb_receiver_o__o'' then range DoNotUse_5b2352bc0cd24bc7b6c3f6f480670fcb_ABPE else
    if c = ùíû ''DoNotUse_5b2352bc0cd24bc7b6c3f6f480670fcb_i__sender_i'' then range DoNotUse_5b2352bc0cd24bc7b6c3f6f480670fcb_ABPE else
    if c = ùíû ''DoNotUse_5b2352bc0cd24bc7b6c3f6f480670fcb_sender_ds__mediumSr_ar'' then range DoNotUse_5b2352bc0cd24bc7b6c3f6f480670fcb_ABPPair_E_Bool else
    if c = ùíû ''DoNotUse_5b2352bc0cd24bc7b6c3f6f480670fcb_mediumSr_as__receiver_dr'' then range DoNotUse_5b2352bc0cd24bc7b6c3f6f480670fcb_ABPPair_E_Bool else
    if c = ùíû ''DoNotUse_5b2352bc0cd24bc7b6c3f6f480670fcb_receiver_ar__mediumRs_ar'' then range DoNotUse_5b2352bc0cd24bc7b6c3f6f480670fcb_ABPBool else
    if c = ùíû ''DoNotUse_5b2352bc0cd24bc7b6c3f6f480670fcb_mediumRs_as__sender_as'' then range DoNotUse_5b2352bc0cd24bc7b6c3f6f480670fcb_ABPBool else
    undefined)"
  instance
    by(intro_classes)
end


section ‚ÄπHelpers to create a bundle from a single raw element‚Ä∫

lift_definition aBPElem_raw_receiver_o__o :: "'e ‚áí ('e::countable) abpMessage tsyn sbElem" is
"Œªx. [ùíû ''DoNotUse_5b2352bc0cd24bc7b6c3f6f480670fcb_receiver_o__o'' ‚Ü¶ Msg (DoNotUse_5b2352bc0cd24bc7b6c3f6f480670fcb_ABPE x)]"
  unfolding sbElemWell_def
  unfolding usclOkay_stream_def
  unfolding ctype_tsyn_def
  by simp

lift_definition aBPElem_raw_i__sender_i :: "'e ‚áí ('e::countable) abpMessage tsyn sbElem" is
"Œªx. [ùíû ''DoNotUse_5b2352bc0cd24bc7b6c3f6f480670fcb_i__sender_i'' ‚Ü¶ Msg (DoNotUse_5b2352bc0cd24bc7b6c3f6f480670fcb_ABPE x)]"
  unfolding sbElemWell_def
  unfolding usclOkay_stream_def
  unfolding ctype_tsyn_def
  by simp

lift_definition aBPElem_raw_sender_ds__mediumSr_ar :: "('e√óbool) ‚áí ('e::countable) abpMessage tsyn sbElem" is
"Œªx. [ùíû ''DoNotUse_5b2352bc0cd24bc7b6c3f6f480670fcb_sender_ds__mediumSr_ar'' ‚Ü¶ Msg (DoNotUse_5b2352bc0cd24bc7b6c3f6f480670fcb_ABPPair_E_Bool x)]"
  unfolding sbElemWell_def
  unfolding usclOkay_stream_def
  unfolding ctype_tsyn_def
  by simp

lift_definition aBPElem_raw_mediumSr_as__receiver_dr :: "('e√óbool) ‚áí ('e::countable) abpMessage tsyn sbElem" is
"Œªx. [ùíû ''DoNotUse_5b2352bc0cd24bc7b6c3f6f480670fcb_mediumSr_as__receiver_dr'' ‚Ü¶ Msg (DoNotUse_5b2352bc0cd24bc7b6c3f6f480670fcb_ABPPair_E_Bool x)]"
  unfolding sbElemWell_def
  unfolding usclOkay_stream_def
  unfolding ctype_tsyn_def
  by simp

lift_definition aBPElem_raw_receiver_ar__mediumRs_ar :: "bool ‚áí ('e::countable) abpMessage tsyn sbElem" is
"Œªx. [ùíû ''DoNotUse_5b2352bc0cd24bc7b6c3f6f480670fcb_receiver_ar__mediumRs_ar'' ‚Ü¶ Msg (DoNotUse_5b2352bc0cd24bc7b6c3f6f480670fcb_ABPBool x)]"
  unfolding sbElemWell_def
  unfolding usclOkay_stream_def
  unfolding ctype_tsyn_def
  by simp

lift_definition aBPElem_raw_mediumRs_as__sender_as :: "bool ‚áí ('e::countable) abpMessage tsyn sbElem" is
"Œªx. [ùíû ''DoNotUse_5b2352bc0cd24bc7b6c3f6f480670fcb_mediumRs_as__sender_as'' ‚Ü¶ Msg (DoNotUse_5b2352bc0cd24bc7b6c3f6f480670fcb_ABPBool x)]"
  unfolding sbElemWell_def
  unfolding usclOkay_stream_def
  unfolding ctype_tsyn_def
  by simp


section ‚ÄπHelpers to create a bundle from a single tsyn element‚Ä∫

fun aBPElem_receiver_o__o :: "'e tsyn ‚áí ('e::countable) abpMessage tsyn sbElem" where
"aBPElem_receiver_o__o (Msg receiver_port_o__port_o) = aBPElem_raw_receiver_o__o receiver_port_o__port_o" |
"aBPElem_receiver_o__o null = sbeNull {ùíû ''DoNotUse_5b2352bc0cd24bc7b6c3f6f480670fcb_receiver_o__o''}"

declare aBPElem_receiver_o__o.simps[simp del]

definition aBP_receiver_o__o :: "'e tsyn ‚áí ('e::countable) abpMessage tsyn SB" where
"aBP_receiver_o__o receiver_port_o__port_o = sbe2SB (aBPElem_receiver_o__o receiver_port_o__port_o)"

fun aBPElem_i__sender_i :: "'e tsyn ‚áí ('e::countable) abpMessage tsyn sbElem" where
"aBPElem_i__sender_i (Msg port_i__sender_port_i) = aBPElem_raw_i__sender_i port_i__sender_port_i" |
"aBPElem_i__sender_i null = sbeNull {ùíû ''DoNotUse_5b2352bc0cd24bc7b6c3f6f480670fcb_i__sender_i''}"

declare aBPElem_i__sender_i.simps[simp del]

definition aBP_i__sender_i :: "'e tsyn ‚áí ('e::countable) abpMessage tsyn SB" where
"aBP_i__sender_i port_i__sender_port_i = sbe2SB (aBPElem_i__sender_i port_i__sender_port_i)"

fun aBPElem_sender_ds__mediumSr_ar :: "('e√óbool) tsyn ‚áí ('e::countable) abpMessage tsyn sbElem" where
"aBPElem_sender_ds__mediumSr_ar (Msg sender_port_ds__mediumSr_port_ar) = aBPElem_raw_sender_ds__mediumSr_ar sender_port_ds__mediumSr_port_ar" |
"aBPElem_sender_ds__mediumSr_ar null = sbeNull {ùíû ''DoNotUse_5b2352bc0cd24bc7b6c3f6f480670fcb_sender_ds__mediumSr_ar''}"

declare aBPElem_sender_ds__mediumSr_ar.simps[simp del]

definition aBP_sender_ds__mediumSr_ar :: "('e√óbool) tsyn ‚áí ('e::countable) abpMessage tsyn SB" where
"aBP_sender_ds__mediumSr_ar sender_port_ds__mediumSr_port_ar = sbe2SB (aBPElem_sender_ds__mediumSr_ar sender_port_ds__mediumSr_port_ar)"

fun aBPElem_mediumSr_as__receiver_dr :: "('e√óbool) tsyn ‚áí ('e::countable) abpMessage tsyn sbElem" where
"aBPElem_mediumSr_as__receiver_dr (Msg mediumSr_port_as__receiver_port_dr) = aBPElem_raw_mediumSr_as__receiver_dr mediumSr_port_as__receiver_port_dr" |
"aBPElem_mediumSr_as__receiver_dr null = sbeNull {ùíû ''DoNotUse_5b2352bc0cd24bc7b6c3f6f480670fcb_mediumSr_as__receiver_dr''}"

declare aBPElem_mediumSr_as__receiver_dr.simps[simp del]

definition aBP_mediumSr_as__receiver_dr :: "('e√óbool) tsyn ‚áí ('e::countable) abpMessage tsyn SB" where
"aBP_mediumSr_as__receiver_dr mediumSr_port_as__receiver_port_dr = sbe2SB (aBPElem_mediumSr_as__receiver_dr mediumSr_port_as__receiver_port_dr)"

fun aBPElem_receiver_ar__mediumRs_ar :: "bool tsyn ‚áí ('e::countable) abpMessage tsyn sbElem" where
"aBPElem_receiver_ar__mediumRs_ar (Msg receiver_port_ar__mediumRs_port_ar) = aBPElem_raw_receiver_ar__mediumRs_ar receiver_port_ar__mediumRs_port_ar" |
"aBPElem_receiver_ar__mediumRs_ar null = sbeNull {ùíû ''DoNotUse_5b2352bc0cd24bc7b6c3f6f480670fcb_receiver_ar__mediumRs_ar''}"

declare aBPElem_receiver_ar__mediumRs_ar.simps[simp del]

definition aBP_receiver_ar__mediumRs_ar :: "bool tsyn ‚áí ('e::countable) abpMessage tsyn SB" where
"aBP_receiver_ar__mediumRs_ar receiver_port_ar__mediumRs_port_ar = sbe2SB (aBPElem_receiver_ar__mediumRs_ar receiver_port_ar__mediumRs_port_ar)"

fun aBPElem_mediumRs_as__sender_as :: "bool tsyn ‚áí ('e::countable) abpMessage tsyn sbElem" where
"aBPElem_mediumRs_as__sender_as (Msg mediumRs_port_as__sender_port_as) = aBPElem_raw_mediumRs_as__sender_as mediumRs_port_as__sender_port_as" |
"aBPElem_mediumRs_as__sender_as null = sbeNull {ùíû ''DoNotUse_5b2352bc0cd24bc7b6c3f6f480670fcb_mediumRs_as__sender_as''}"

declare aBPElem_mediumRs_as__sender_as.simps[simp del]

definition aBP_mediumRs_as__sender_as :: "bool tsyn ‚áí ('e::countable) abpMessage tsyn SB" where
"aBP_mediumRs_as__sender_as mediumRs_port_as__sender_port_as = sbe2SB (aBPElem_mediumRs_as__sender_as mediumRs_port_as__sender_port_as)"

(* Create one sbElem for all input channels *)
definition aBPElemIn_i :: "'e tsyn ‚áí ('e::countable) abpMessage tsyn sbElem" where
"aBPElemIn_i port_i = (aBPElem_i__sender_i port_i)"

(* Create one sbElem for all output channels *)
definition aBPElemOut_o :: "'e tsyn ‚áí ('e::countable) abpMessage tsyn sbElem" where
"aBPElemOut_o port_o = (aBPElem_receiver_o__o port_o)"

(* Create one SB for all input channels *)
definition aBPIn_i :: "'e tsyn ‚áí ('e::countable) abpMessage tsyn SB" where
"aBPIn_i port_i = (sbe2SB (aBPElemIn_i port_i))"

(* Create one SB for all output channels *)
definition aBPOut_o :: "'e tsyn ‚áí ('e::countable) abpMessage tsyn SB" where
"aBPOut_o port_o = (sbe2SB (aBPElemOut_o port_o))"


subsection ‚Äπsender‚Ä∫

(* Create one sbElem for all input channels *)
definition aBPSenderElemIn_as_i :: "bool tsyn ‚áí 'e tsyn ‚áí ('e::countable) abpMessage tsyn sbElem" where
"aBPSenderElemIn_as_i port_as port_i = (aBPElem_mediumRs_as__sender_as port_as) ¬± (aBPElem_i__sender_i port_i)"

(* Create one sbElem for all output channels *)
definition aBPSenderElemOut_ds :: "('e√óbool) tsyn ‚áí ('e::countable) abpMessage tsyn sbElem" where
"aBPSenderElemOut_ds port_ds = (aBPElem_sender_ds__mediumSr_ar port_ds)"

(* Create one SB for all input channels *)
definition aBPSenderIn_as_i :: "bool tsyn ‚áí 'e tsyn ‚áí ('e::countable) abpMessage tsyn SB" where
"aBPSenderIn_as_i port_as port_i = (sbe2SB (aBPSenderElemIn_as_i port_as port_i))"

(* Create one SB for all output channels *)
definition aBPSenderOut_ds :: "('e√óbool) tsyn ‚áí ('e::countable) abpMessage tsyn SB" where
"aBPSenderOut_ds port_ds = (sbe2SB (aBPSenderElemOut_ds port_ds))"


subsection ‚ÄπmediumSr‚Ä∫

(* Create one sbElem for all input channels *)
definition aBPMediumSrElemIn_ar :: "('e√óbool) tsyn ‚áí ('e::countable) abpMessage tsyn sbElem" where
"aBPMediumSrElemIn_ar port_ar = (aBPElem_sender_ds__mediumSr_ar port_ar)"

(* Create one sbElem for all output channels *)
definition aBPMediumSrElemOut_as :: "('e√óbool) tsyn ‚áí ('e::countable) abpMessage tsyn sbElem" where
"aBPMediumSrElemOut_as port_as = (aBPElem_mediumSr_as__receiver_dr port_as)"

(* Create one SB for all input channels *)
definition aBPMediumSrIn_ar :: "('e√óbool) tsyn ‚áí ('e::countable) abpMessage tsyn SB" where
"aBPMediumSrIn_ar port_ar = (sbe2SB (aBPMediumSrElemIn_ar port_ar))"

(* Create one SB for all output channels *)
definition aBPMediumSrOut_as :: "('e√óbool) tsyn ‚áí ('e::countable) abpMessage tsyn SB" where
"aBPMediumSrOut_as port_as = (sbe2SB (aBPMediumSrElemOut_as port_as))"


subsection ‚Äπreceiver‚Ä∫

(* Create one sbElem for all input channels *)
definition aBPReceiverElemIn_dr :: "('e√óbool) tsyn ‚áí ('e::countable) abpMessage tsyn sbElem" where
"aBPReceiverElemIn_dr port_dr = (aBPElem_mediumSr_as__receiver_dr port_dr)"

(* Create one sbElem for all output channels *)
definition aBPReceiverElemOut_ar_o :: "bool tsyn ‚áí 'e tsyn ‚áí ('e::countable) abpMessage tsyn sbElem" where
"aBPReceiverElemOut_ar_o port_ar port_o = (aBPElem_receiver_ar__mediumRs_ar port_ar) ¬± (aBPElem_receiver_o__o port_o)"

(* Create one SB for all input channels *)
definition aBPReceiverIn_dr :: "('e√óbool) tsyn ‚áí ('e::countable) abpMessage tsyn SB" where
"aBPReceiverIn_dr port_dr = (sbe2SB (aBPReceiverElemIn_dr port_dr))"

(* Create one SB for all output channels *)
definition aBPReceiverOut_ar_o :: "bool tsyn ‚áí 'e tsyn ‚áí ('e::countable) abpMessage tsyn SB" where
"aBPReceiverOut_ar_o port_ar port_o = (sbe2SB (aBPReceiverElemOut_ar_o port_ar port_o))"


subsection ‚ÄπmediumRs‚Ä∫

(* Create one sbElem for all input channels *)
definition aBPMediumRsElemIn_ar :: "bool tsyn ‚áí ('e::countable) abpMessage tsyn sbElem" where
"aBPMediumRsElemIn_ar port_ar = (aBPElem_receiver_ar__mediumRs_ar port_ar)"

(* Create one sbElem for all output channels *)
definition aBPMediumRsElemOut_as :: "bool tsyn ‚áí ('e::countable) abpMessage tsyn sbElem" where
"aBPMediumRsElemOut_as port_as = (aBPElem_mediumRs_as__sender_as port_as)"

(* Create one SB for all input channels *)
definition aBPMediumRsIn_ar :: "bool tsyn ‚áí ('e::countable) abpMessage tsyn SB" where
"aBPMediumRsIn_ar port_ar = (sbe2SB (aBPMediumRsElemIn_ar port_ar))"

(* Create one SB for all output channels *)
definition aBPMediumRsOut_as :: "bool tsyn ‚áí ('e::countable) abpMessage tsyn SB" where
"aBPMediumRsOut_as port_as = (sbe2SB (aBPMediumRsElemOut_as port_as))"


section ‚ÄπHelpers to create a bundle from a tsyn stream of elements‚Ä∫

lift_definition DoNotUse_5b2352bc0cd24bc7b6c3f6f480670fcb_aBP_stream_receiver_o__o_h :: "'e tsyn stream ‚áí ('e::countable) abpMessage tsyn SB" is
"Œª s. [(ùíû ''DoNotUse_5b2352bc0cd24bc7b6c3f6f480670fcb_receiver_o__o'') ‚Ü¶ (tsynMap (DoNotUse_5b2352bc0cd24bc7b6c3f6f480670fcb_ABPE)‚ãÖs)]"
  unfolding ubWell_def usclOkay_stream_def ctype_tsyn_def
  apply auto
  sorry

lift_definition aBP_stream_receiver_o__o :: "('e) tsyn stream ‚Üí ('e::countable) abpMessage tsyn SB" is
"DoNotUse_5b2352bc0cd24bc7b6c3f6f480670fcb_aBP_stream_receiver_o__o_h"
  sorry

lift_definition DoNotUse_5b2352bc0cd24bc7b6c3f6f480670fcb_aBP_stream_i__sender_i_h :: "'e tsyn stream ‚áí ('e::countable) abpMessage tsyn SB" is
"Œª s. [(ùíû ''DoNotUse_5b2352bc0cd24bc7b6c3f6f480670fcb_i__sender_i'') ‚Ü¶ (tsynMap (DoNotUse_5b2352bc0cd24bc7b6c3f6f480670fcb_ABPE)‚ãÖs)]"
  unfolding ubWell_def usclOkay_stream_def ctype_tsyn_def
  apply auto
  sorry

lift_definition aBP_stream_i__sender_i :: "('e) tsyn stream ‚Üí ('e::countable) abpMessage tsyn SB" is
"DoNotUse_5b2352bc0cd24bc7b6c3f6f480670fcb_aBP_stream_i__sender_i_h"
  sorry

lift_definition DoNotUse_5b2352bc0cd24bc7b6c3f6f480670fcb_aBP_stream_sender_ds__mediumSr_ar_h :: "('e√óbool) tsyn stream ‚áí ('e::countable) abpMessage tsyn SB" is
"Œª s. [(ùíû ''DoNotUse_5b2352bc0cd24bc7b6c3f6f480670fcb_sender_ds__mediumSr_ar'') ‚Ü¶ (tsynMap (DoNotUse_5b2352bc0cd24bc7b6c3f6f480670fcb_ABPPair_E_Bool)‚ãÖs)]"
  unfolding ubWell_def usclOkay_stream_def ctype_tsyn_def
  apply auto
  sorry

lift_definition aBP_stream_sender_ds__mediumSr_ar :: "(('e√óbool)) tsyn stream ‚Üí ('e::countable) abpMessage tsyn SB" is
"DoNotUse_5b2352bc0cd24bc7b6c3f6f480670fcb_aBP_stream_sender_ds__mediumSr_ar_h"
  sorry

lift_definition DoNotUse_5b2352bc0cd24bc7b6c3f6f480670fcb_aBP_stream_mediumSr_as__receiver_dr_h :: "('e√óbool) tsyn stream ‚áí ('e::countable) abpMessage tsyn SB" is
"Œª s. [(ùíû ''DoNotUse_5b2352bc0cd24bc7b6c3f6f480670fcb_mediumSr_as__receiver_dr'') ‚Ü¶ (tsynMap (DoNotUse_5b2352bc0cd24bc7b6c3f6f480670fcb_ABPPair_E_Bool)‚ãÖs)]"
  unfolding ubWell_def usclOkay_stream_def ctype_tsyn_def
  apply auto
  sorry

lift_definition aBP_stream_mediumSr_as__receiver_dr :: "(('e√óbool)) tsyn stream ‚Üí ('e::countable) abpMessage tsyn SB" is
"DoNotUse_5b2352bc0cd24bc7b6c3f6f480670fcb_aBP_stream_mediumSr_as__receiver_dr_h"
  sorry

lift_definition DoNotUse_5b2352bc0cd24bc7b6c3f6f480670fcb_aBP_stream_receiver_ar__mediumRs_ar_h :: "bool tsyn stream ‚áí ('e::countable) abpMessage tsyn SB" is
"Œª s. [(ùíû ''DoNotUse_5b2352bc0cd24bc7b6c3f6f480670fcb_receiver_ar__mediumRs_ar'') ‚Ü¶ (tsynMap (DoNotUse_5b2352bc0cd24bc7b6c3f6f480670fcb_ABPBool)‚ãÖs)]"
  unfolding ubWell_def usclOkay_stream_def ctype_tsyn_def
  apply auto
  sorry

lift_definition aBP_stream_receiver_ar__mediumRs_ar :: "(bool) tsyn stream ‚Üí ('e::countable) abpMessage tsyn SB" is
"DoNotUse_5b2352bc0cd24bc7b6c3f6f480670fcb_aBP_stream_receiver_ar__mediumRs_ar_h"
  sorry

lift_definition DoNotUse_5b2352bc0cd24bc7b6c3f6f480670fcb_aBP_stream_mediumRs_as__sender_as_h :: "bool tsyn stream ‚áí ('e::countable) abpMessage tsyn SB" is
"Œª s. [(ùíû ''DoNotUse_5b2352bc0cd24bc7b6c3f6f480670fcb_mediumRs_as__sender_as'') ‚Ü¶ (tsynMap (DoNotUse_5b2352bc0cd24bc7b6c3f6f480670fcb_ABPBool)‚ãÖs)]"
  unfolding ubWell_def usclOkay_stream_def ctype_tsyn_def
  apply auto
  sorry

lift_definition aBP_stream_mediumRs_as__sender_as :: "(bool) tsyn stream ‚Üí ('e::countable) abpMessage tsyn SB" is
"DoNotUse_5b2352bc0cd24bc7b6c3f6f480670fcb_aBP_stream_mediumRs_as__sender_as_h"
  sorry

(* Create one SB for all input channels *)
definition aBPIn_stream_i :: "'e tsyn stream ‚Üí ('e::countable) abpMessage tsyn SB" where
"aBPIn_stream_i = (Œõ  port_i. (aBP_stream_i__sender_i‚ãÖport_i))"

(* Create one SB for all output channels *)
definition aBPOut_stream_o :: "'e tsyn stream ‚Üí ('e::countable) abpMessage tsyn SB" where
"aBPOut_stream_o = (Œõ  port_o. (aBP_stream_receiver_o__o‚ãÖport_o))"


subsection ‚Äπsender‚Ä∫

(* Create one SB for all input channels *)
definition aBPSenderIn_stream_as_i :: "bool tsyn stream ‚Üí 'e tsyn stream ‚Üí ('e::countable) abpMessage tsyn SB" where
"aBPSenderIn_stream_as_i = (Œõ  port_as port_i. (aBP_stream_mediumRs_as__sender_as‚ãÖport_as) ‚äé (aBP_stream_i__sender_i‚ãÖport_i))"

(* Create one SB for all output channels *)
definition aBPSenderOut_stream_ds :: "('e√óbool) tsyn stream ‚Üí ('e::countable) abpMessage tsyn SB" where
"aBPSenderOut_stream_ds = (Œõ  port_ds. (aBP_stream_sender_ds__mediumSr_ar‚ãÖport_ds))"


subsection ‚ÄπmediumSr‚Ä∫

(* Create one SB for all input channels *)
definition aBPMediumSrIn_stream_ar :: "('e√óbool) tsyn stream ‚Üí ('e::countable) abpMessage tsyn SB" where
"aBPMediumSrIn_stream_ar = (Œõ  port_ar. (aBP_stream_sender_ds__mediumSr_ar‚ãÖport_ar))"

(* Create one SB for all output channels *)
definition aBPMediumSrOut_stream_as :: "('e√óbool) tsyn stream ‚Üí ('e::countable) abpMessage tsyn SB" where
"aBPMediumSrOut_stream_as = (Œõ  port_as. (aBP_stream_mediumSr_as__receiver_dr‚ãÖport_as))"


subsection ‚Äπreceiver‚Ä∫

(* Create one SB for all input channels *)
definition aBPReceiverIn_stream_dr :: "('e√óbool) tsyn stream ‚Üí ('e::countable) abpMessage tsyn SB" where
"aBPReceiverIn_stream_dr = (Œõ  port_dr. (aBP_stream_mediumSr_as__receiver_dr‚ãÖport_dr))"

(* Create one SB for all output channels *)
definition aBPReceiverOut_stream_ar_o :: "bool tsyn stream ‚Üí 'e tsyn stream ‚Üí ('e::countable) abpMessage tsyn SB" where
"aBPReceiverOut_stream_ar_o = (Œõ  port_ar port_o. (aBP_stream_receiver_ar__mediumRs_ar‚ãÖport_ar) ‚äé (aBP_stream_receiver_o__o‚ãÖport_o))"


subsection ‚ÄπmediumRs‚Ä∫

(* Create one SB for all input channels *)
definition aBPMediumRsIn_stream_ar :: "bool tsyn stream ‚Üí ('e::countable) abpMessage tsyn SB" where
"aBPMediumRsIn_stream_ar = (Œõ  port_ar. (aBP_stream_receiver_ar__mediumRs_ar‚ãÖport_ar))"

(* Create one SB for all output channels *)
definition aBPMediumRsOut_stream_as :: "bool tsyn stream ‚Üí ('e::countable) abpMessage tsyn SB" where
"aBPMediumRsOut_stream_as = (Œõ  port_as. (aBP_stream_mediumRs_as__sender_as‚ãÖport_as))"


section ‚ÄπHelpers to get tsyn elements and streams from sbElems and SBs‚Ä∫

fun aBPElem_get_receiver_o__o :: "('e::countable) abpMessage tsyn sbElem ‚áí ('e) tsyn" where
"aBPElem_get_receiver_o__o sbe = undefined"

lift_definition aBP_get_stream_receiver_o__o :: "('e::countable) abpMessage tsyn SB ‚Üí 'e tsyn stream" is
"Œªsb. tsynMap (inv DoNotUse_5b2352bc0cd24bc7b6c3f6f480670fcb_ABPE)‚ãÖ(sb . (ùíû ''DoNotUse_5b2352bc0cd24bc7b6c3f6f480670fcb_receiver_o__o''))"
  by(simp add: cfun_def)

fun aBPElem_get_i__sender_i :: "('e::countable) abpMessage tsyn sbElem ‚áí ('e) tsyn" where
"aBPElem_get_i__sender_i sbe = undefined"

lift_definition aBP_get_stream_i__sender_i :: "('e::countable) abpMessage tsyn SB ‚Üí 'e tsyn stream" is
"Œªsb. tsynMap (inv DoNotUse_5b2352bc0cd24bc7b6c3f6f480670fcb_ABPE)‚ãÖ(sb . (ùíû ''DoNotUse_5b2352bc0cd24bc7b6c3f6f480670fcb_i__sender_i''))"
  by(simp add: cfun_def)

fun aBPElem_get_sender_ds__mediumSr_ar :: "('e::countable) abpMessage tsyn sbElem ‚áí (('e√óbool)) tsyn" where
"aBPElem_get_sender_ds__mediumSr_ar sbe = undefined"

lift_definition aBP_get_stream_sender_ds__mediumSr_ar :: "('e::countable) abpMessage tsyn SB ‚Üí ('e√óbool) tsyn stream" is
"Œªsb. tsynMap (inv DoNotUse_5b2352bc0cd24bc7b6c3f6f480670fcb_ABPPair_E_Bool)‚ãÖ(sb . (ùíû ''DoNotUse_5b2352bc0cd24bc7b6c3f6f480670fcb_sender_ds__mediumSr_ar''))"
  by(simp add: cfun_def)

fun aBPElem_get_mediumSr_as__receiver_dr :: "('e::countable) abpMessage tsyn sbElem ‚áí (('e√óbool)) tsyn" where
"aBPElem_get_mediumSr_as__receiver_dr sbe = undefined"

lift_definition aBP_get_stream_mediumSr_as__receiver_dr :: "('e::countable) abpMessage tsyn SB ‚Üí ('e√óbool) tsyn stream" is
"Œªsb. tsynMap (inv DoNotUse_5b2352bc0cd24bc7b6c3f6f480670fcb_ABPPair_E_Bool)‚ãÖ(sb . (ùíû ''DoNotUse_5b2352bc0cd24bc7b6c3f6f480670fcb_mediumSr_as__receiver_dr''))"
  by(simp add: cfun_def)

fun aBPElem_get_receiver_ar__mediumRs_ar :: "('e::countable) abpMessage tsyn sbElem ‚áí (bool) tsyn" where
"aBPElem_get_receiver_ar__mediumRs_ar sbe = undefined"

lift_definition aBP_get_stream_receiver_ar__mediumRs_ar :: "('e::countable) abpMessage tsyn SB ‚Üí bool tsyn stream" is
"Œªsb. tsynMap (inv DoNotUse_5b2352bc0cd24bc7b6c3f6f480670fcb_ABPBool)‚ãÖ(sb . (ùíû ''DoNotUse_5b2352bc0cd24bc7b6c3f6f480670fcb_receiver_ar__mediumRs_ar''))"
  by(simp add: cfun_def)

fun aBPElem_get_mediumRs_as__sender_as :: "('e::countable) abpMessage tsyn sbElem ‚áí (bool) tsyn" where
"aBPElem_get_mediumRs_as__sender_as sbe = undefined"

lift_definition aBP_get_stream_mediumRs_as__sender_as :: "('e::countable) abpMessage tsyn SB ‚Üí bool tsyn stream" is
"Œªsb. tsynMap (inv DoNotUse_5b2352bc0cd24bc7b6c3f6f480670fcb_ABPBool)‚ãÖ(sb . (ùíû ''DoNotUse_5b2352bc0cd24bc7b6c3f6f480670fcb_mediumRs_as__sender_as''))"
  by(simp add: cfun_def)


section ‚ÄπConverter‚Ä∫


subsection ‚Äπsender‚Ä∫

lift_definition senderInConvert :: "('e::countable) abpMessage tsyn SB ‚Üí ('e) senderMessage tsyn SB" is
"Œªsb. senderIn_stream_as_i‚ãÖ(aBP_get_stream_mediumRs_as__sender_as‚ãÖsb)‚ãÖ(aBP_get_stream_i__sender_i‚ãÖsb)"
  by (simp add: cfun_def)

lift_definition senderOutConvert :: "('e) senderMessage tsyn SB ‚Üí ('e::countable) abpMessage tsyn SB" is
"Œªsb. aBPSenderOut_stream_ds‚ãÖ(sender_get_stream_ds‚ãÖsb)"
  by (simp add: cfun_def)

lift_definition senderInConverterSPF :: "('e::countable) abpMessage tsyn SB ‚áõ ('e) senderMessage tsyn SB" is
"(Œõ sb . ((ubDom‚ãÖsb = undefined) ‚Üù senderInConvert‚ãÖsb))"
  sorry

lift_definition senderOutConverterSPF :: "('e) senderMessage tsyn SB ‚áõ ('e::countable) abpMessage tsyn SB" is
"(Œõ sb . ((ubDom‚ãÖsb = undefined) ‚Üù senderOutConvert‚ãÖsb))"
  sorry


subsection ‚ÄπmediumSr‚Ä∫

lift_definition mediumSrInConvert :: "('e::countable) abpMessage tsyn SB ‚Üí (('e√óbool)) mediumMessage tsyn SB" is
"Œªsb. mediumIn_stream_ar‚ãÖ(aBP_get_stream_sender_ds__mediumSr_ar‚ãÖsb)"
  by (simp add: cfun_def)

lift_definition mediumSrOutConvert :: "(('e√óbool)) mediumMessage tsyn SB ‚Üí ('e::countable) abpMessage tsyn SB" is
"Œªsb. aBPMediumSrOut_stream_as‚ãÖ(medium_get_stream_as‚ãÖsb)"
  by (simp add: cfun_def)

lift_definition mediumSrInConverterSPF :: "('e::countable) abpMessage tsyn SB ‚áõ (('e√óbool)) mediumMessage tsyn SB" is
"(Œõ sb . ((ubDom‚ãÖsb = undefined) ‚Üù mediumSrInConvert‚ãÖsb))"
  sorry

lift_definition mediumSrOutConverterSPF :: "(('e√óbool)) mediumMessage tsyn SB ‚áõ ('e::countable) abpMessage tsyn SB" is
"(Œõ sb . ((ubDom‚ãÖsb = undefined) ‚Üù mediumSrOutConvert‚ãÖsb))"
  sorry


subsection ‚Äπreceiver‚Ä∫

lift_definition receiverInConvert :: "('e::countable) abpMessage tsyn SB ‚Üí ('e) receiverMessage tsyn SB" is
"Œªsb. receiverIn_stream_dr‚ãÖ(aBP_get_stream_mediumSr_as__receiver_dr‚ãÖsb)"
  by (simp add: cfun_def)

lift_definition receiverOutConvert :: "('e) receiverMessage tsyn SB ‚Üí ('e::countable) abpMessage tsyn SB" is
"Œªsb. aBPReceiverOut_stream_ar_o‚ãÖ(receiver_get_stream_ar‚ãÖsb)‚ãÖ(receiver_get_stream_o‚ãÖsb)"
  by (simp add: cfun_def)

lift_definition receiverInConverterSPF :: "('e::countable) abpMessage tsyn SB ‚áõ ('e) receiverMessage tsyn SB" is
"(Œõ sb . ((ubDom‚ãÖsb = undefined) ‚Üù receiverInConvert‚ãÖsb))"
  sorry

lift_definition receiverOutConverterSPF :: "('e) receiverMessage tsyn SB ‚áõ ('e::countable) abpMessage tsyn SB" is
"(Œõ sb . ((ubDom‚ãÖsb = undefined) ‚Üù receiverOutConvert‚ãÖsb))"
  sorry


subsection ‚ÄπmediumRs‚Ä∫

lift_definition mediumRsInConvert :: "('e::countable) abpMessage tsyn SB ‚Üí (bool) mediumMessage tsyn SB" is
"Œªsb. mediumIn_stream_ar‚ãÖ(aBP_get_stream_receiver_ar__mediumRs_ar‚ãÖsb)"
  by (simp add: cfun_def)

lift_definition mediumRsOutConvert :: "(bool) mediumMessage tsyn SB ‚Üí ('e::countable) abpMessage tsyn SB" is
"Œªsb. aBPMediumRsOut_stream_as‚ãÖ(medium_get_stream_as‚ãÖsb)"
  by (simp add: cfun_def)

lift_definition mediumRsInConverterSPF :: "('e::countable) abpMessage tsyn SB ‚áõ (bool) mediumMessage tsyn SB" is
"(Œõ sb . ((ubDom‚ãÖsb = undefined) ‚Üù mediumRsInConvert‚ãÖsb))"
  sorry

lift_definition mediumRsOutConverterSPF :: "(bool) mediumMessage tsyn SB ‚áõ ('e::countable) abpMessage tsyn SB" is
"(Œõ sb . ((ubDom‚ãÖsb = undefined) ‚Üù mediumRsOutConvert‚ãÖsb))"
  sorry


section ‚ÄπInstances‚Ä∫

definition sender :: "(('e::countable) abpMessage tsyn, ('e::countable) abpMessage tsyn) SPF" where
"sender = (senderInConverterSPF‚àòsenderSPF‚àòsenderOutConverterSPF)"

definition mediumSr :: "('e::countable) abpMessage tsyn SPS" where
"mediumSr = ((uspecConst mediumSrInConverterSPF)‚óãmediumSPS‚óã(uspecConst mediumSrOutConverterSPF))"

definition receiver :: "(('e::countable) abpMessage tsyn, ('e::countable) abpMessage tsyn) SPF" where
"receiver = (receiverInConverterSPF‚àòreceiverSPF‚àòreceiverOutConverterSPF)"

definition mediumRs :: "('e::countable) abpMessage tsyn SPS" where
"mediumRs = ((uspecConst mediumRsInConverterSPF)‚óãmediumSPS‚óã(uspecConst mediumRsOutConverterSPF))"


section ‚ÄπFinal definition‚Ä∫

definition aBPSPS :: "('e::countable) abpMessage tsyn SPS" where
"aBPSPS = ((uspecConst sender)‚®ÇmediumSr‚®Ç(uspecConst receiver)‚®ÇmediumRs)"


section ‚ÄπLemmas for getter‚Ä∫

subsection ‚ÄπIdentity lemmas for single sbElems‚Ä∫

lemma abpelem_receiver_o__o_id[simp]: "aBPElem_get_receiver_o__o (aBPElem_receiver_o__o x) = x"
  sorry

lemma abpelem_i__sender_i_id[simp]: "aBPElem_get_i__sender_i (aBPElem_i__sender_i x) = x"
  sorry

lemma abpelem_sender_ds__mediumsr_ar_id[simp]: "aBPElem_get_sender_ds__mediumSr_ar (aBPElem_sender_ds__mediumSr_ar x) = x"
  sorry

lemma abpelem_mediumsr_as__receiver_dr_id[simp]: "aBPElem_get_mediumSr_as__receiver_dr (aBPElem_mediumSr_as__receiver_dr x) = x"
  sorry

lemma abpelem_receiver_ar__mediumrs_ar_id[simp]: "aBPElem_get_receiver_ar__mediumRs_ar (aBPElem_receiver_ar__mediumRs_ar x) = x"
  sorry

lemma abpelem_mediumrs_as__sender_as_id[simp]: "aBPElem_get_mediumRs_as__sender_as (aBPElem_mediumRs_as__sender_as x) = x"
  sorry


subsection ‚ÄπIdentity lemmas for single SBs from streams‚Ä∫

lemma abp_stream_receiver_o__o_id[simp]: "aBP_get_stream_receiver_o__o‚ãÖ(aBP_stream_receiver_o__o‚ãÖx) = x"
  sorry

lemma abp_stream_i__sender_i_id[simp]: "aBP_get_stream_i__sender_i‚ãÖ(aBP_stream_i__sender_i‚ãÖx) = x"
  sorry

lemma abp_stream_sender_ds__mediumsr_ar_id[simp]: "aBP_get_stream_sender_ds__mediumSr_ar‚ãÖ(aBP_stream_sender_ds__mediumSr_ar‚ãÖx) = x"
  sorry

lemma abp_stream_mediumsr_as__receiver_dr_id[simp]: "aBP_get_stream_mediumSr_as__receiver_dr‚ãÖ(aBP_stream_mediumSr_as__receiver_dr‚ãÖx) = x"
  sorry

lemma abp_stream_receiver_ar__mediumrs_ar_id[simp]: "aBP_get_stream_receiver_ar__mediumRs_ar‚ãÖ(aBP_stream_receiver_ar__mediumRs_ar‚ãÖx) = x"
  sorry

lemma abp_stream_mediumrs_as__sender_as_id[simp]: "aBP_get_stream_mediumRs_as__sender_as‚ãÖ(aBP_stream_mediumRs_as__sender_as‚ãÖx) = x"
  sorry


subsection ‚ÄπIdentity lemmas for input sbElems‚Ä∫

lemma abpelemin_i_i__sender_i_id[simp]: "aBPElem_get_i__sender_i (aBPElemIn_i port_i__sender_port_i) = port_i__sender_port_i"
  sorry


subsection ‚ÄπIdentity lemmas for output sbElems‚Ä∫

lemma abpelemout_o_receiver_o__o_id[simp]: "aBPElem_get_receiver_o__o (aBPElemOut_o receiver_port_o__port_o) = receiver_port_o__port_o"
  sorry


subsection ‚ÄπIdentity lemmas for input SBs‚Ä∫

lemma abpin_i_i__sender_i_id[simp]: "aBP_get_stream_i__sender_i‚ãÖ(aBPIn_i port_i__sender_port_i) = ‚Üëport_i__sender_port_i"
  sorry


subsection ‚ÄπIdentity lemmas for output SBs‚Ä∫

lemma abpout_o_receiver_o__o_id[simp]: "aBP_get_stream_receiver_o__o‚ãÖ(aBPOut_o receiver_port_o__port_o) = ‚Üëreceiver_port_o__port_o"
  sorry


subsection ‚ÄπIdentity lemmas for input SBs from streams‚Ä∫

lemma abpin_stream_i_i__sender_i_id[simp]: "aBP_get_stream_i__sender_i‚ãÖ(aBPIn_stream_i‚ãÖport_i__sender_port_i) = port_i__sender_port_i"
  sorry


subsection ‚ÄπIdentity lemmas for output SBs from streams‚Ä∫

lemma abpout_stream_o_receiver_o__o_id[simp]: "aBP_get_stream_receiver_o__o‚ãÖ(aBPOut_stream_o‚ãÖreceiver_port_o__port_o) = receiver_port_o__port_o"
  sorry


end