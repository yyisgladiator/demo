package abp;

<<nonDeterministic>>component MediumSR {

  port
    in Pair<Integer,Boolean> ds,
    out Pair<Integer,Boolean> dr;

  automaton Medium {
    variable Integer c=random();

    state Single;
    initial Single / {dr=null};

    Single -> Single {ds=null} / {dr=null};
    Single -> Single [c>0]  / {c=c-1};
    Single -> Single [c=0]  / {c=random(), dr=ds};
  }
}